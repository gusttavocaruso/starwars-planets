(this["webpackJsonpsd-0x-project-react-context-hooks-starwars-datatable-filters"]=this["webpackJsonpsd-0x-project-react-context-hooks-starwars-datatable-filters"]||[]).push([[0],{13:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(7),u=a.n(l),c=(a(13),a(4)),i=a(1),o=Object(n.createContext)(),m=function(){var e=Object(n.useContext)(o),t=e.data,a=e.setData,l=e.filter,u=e.setFilter,m=e.setDataNameFilter,s=e.filterIN,f=e.setFilterIN,p=e.opt1,d=e.handleAPIRequest,b=l.filterByMeasurments,E=b.column,v=b.comparison,h=b.value,j={"maior que":function(e,t){return Number(e)>Number(t)},"menor que":function(e,t){return Number(e)<Number(t)},"igual a":function(e,t){return Number(e)===Number(t)}},O=function(e){var t=e.target;u(Object(i.a)(Object(i.a)({},l),{},{filterByMeasurments:Object(i.a)(Object(i.a)({},l.filterByMeasurments),{},Object(c.a)({},t.name,t.value))}))};Object(n.useEffect)((function(){var e=l.filterByName.name,a=t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));m(a)}),[t,l,m]);var y=r.a.createElement("div",{"data-testid":"filter",className:"filterON"},r.a.createElement("span",null,E),r.a.createElement("span",null,v),r.a.createElement("span",null,h),r.a.createElement("button",{onClick:function(){d(),f(!1)},type:"button"},"X"));return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"Filter by name: "),r.a.createElement("input",{onChange:function(e){var t=e.target;u(Object(i.a)(Object(i.a)({},l),{},{filterByName:{name:t.value}}))},"data-testid":"name-filter",type:"text"}),r.a.createElement("br",null),r.a.createElement("span",null,"Filter by measurements: "),r.a.createElement("select",{name:"column",onChange:O,"data-testid":"column-filter"},p.map((function(e,t){return r.a.createElement("option",{key:t},e)}))),r.a.createElement("select",{name:"comparison",onChange:O,"data-testid":"comparison-filter"},["maior que","menor que","igual a"].map((function(e,t){return r.a.createElement("option",{name:e,key:t},e)}))),r.a.createElement("input",{name:"value",type:"number",onChange:O,className:"value-filter","data-testid":"value-filter",value:h}),r.a.createElement("button",{onClick:function(){var e=t.filter((function(e){return j[v](e[E],h)}));a(e),f(!0)},type:"button","data-testid":"button-filter",className:"filter-button"},"FILT"),r.a.createElement("br",null),r.a.createElement("span",null,"FilterIn: "),s?y:"-")},s=function(){var e=Object(n.useContext)(o),t=e.data,a=e.dataNameFilter,l=t.map((function(e){return Object.keys(e)})),u=0===a.length?t:a;return r.a.createElement("div",null,0===u.length||0===l.length?r.a.createElement("h1",null,"llloading..."):r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,l[0].map((function(e,t){return r.a.createElement("th",{key:t},e)})))),r.a.createElement("tbody",null,u.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.rotation_period),r.a.createElement("td",null,e.orbital_period),r.a.createElement("td",null,e.diameter),r.a.createElement("td",null,e.climate),r.a.createElement("td",null,e.gravity),r.a.createElement("td",null,e.terrain),r.a.createElement("td",null,e.surface_water),r.a.createElement("td",null,e.population),r.a.createElement("td",null,e.films),r.a.createElement("td",null,e.created),r.a.createElement("td",null,e.edited),r.a.createElement("td",null,e.url))})))))},f=a(2),p=a.n(f),d=a(5),b=a(3),E=function(){var e=Object(d.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://swapi-trybe.herokuapp.com/api/planets/",e.next=3,fetch("https://swapi-trybe.herokuapp.com/api/planets/").then((function(e){return e.json()}));case 3:return t=e.sent,a=t.results,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(e){var t=e.children,a=Object(n.useState)([]),l=Object(b.a)(a,2),u=l[0],c=l[1],i=Object(n.useState)([]),m=Object(b.a)(i,2),s=m[0],f=m[1],v=Object(n.useState)(!1),h=Object(b.a)(v,2),j=h[0],O=h[1],y=Object(n.useState)({filterByName:{name:""},filterByMeasurments:{column:"population",comparison:"maior que",value:0}}),N=Object(b.a)(y,2),g=N[0],k=N[1],w=Object(n.useState)(["population","orbital_period","diameter","rotation_period","surface_water"]),x=Object(b.a)(w,2),F=x[0],C=x[1],I=function(){var e=Object(d.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:t=e.sent,a=t.filter((function(e){return delete e.residents})),c(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){I()}),[]);var B={data:u,setData:c,filter:g,setFilter:k,dataNameFilter:s,setDataNameFilter:f,filterIN:j,setFilterIN:O,opt1:F,setOpt1:C,handleAPIRequest:I};return r.a.createElement(o.Provider,{value:B},t)};var h=function(){return r.a.createElement(v,null,r.a.createElement(m,null),r.a.createElement(s,null))};u.a.render(r.a.createElement(h,null),document.getElementById("root"))},8:function(e,t,a){e.exports=a(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.ced96d21.chunk.js.map